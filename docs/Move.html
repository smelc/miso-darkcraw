<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Move</title>
<link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean">
<link rel="stylesheet" type="text/css" href="quick-jump.css">
<script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<div id="package-header">
<ul class="links" id="page-menu">
<li><a href="index.html">Contents</a></li>
<li><a href="doc-index.html">Index</a></li>
</ul>
<p class="caption">app</p>
</div>
<div id="content">
<div id="module-header">
<table class="info">
<tr>
<th>Safe Haskell</th>
<td>None</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<p class="caption">Move</p>
</div>
<div id="description">
<p class="caption">Description</p>
<div class="doc"><p>This module deals with game actions (nicknamed moves). It's a spinoff of
 <code>Update</code>, to reduce the length of the latter.</p></div>
</div>
<div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn">
<li class="src short">
<span class="keyword">data</span> <a href="#t:Actor">Actor</a><ul class="subs">
<li>= <a href="#v:AI">AI</a>
</li>
<li>| <a href="#v:Player">Player</a>
</li>
</ul>
</li>
<li class="src short">
<span class="keyword">data</span> <a href="#t:DnDAction">DnDAction</a> a<ul class="subs">
<li>= <a href="#v:DragEnd">DragEnd</a>
</li>
<li>| <a href="#v:DragStart">DragStart</a> <a href="Board.html#t:HandIndex" title="Board">HandIndex</a>
</li>
<li>| <a href="#v:Drop">Drop</a>
</li>
<li>| <a href="#v:DragEnter">DragEnter</a> a</li>
<li>| <a href="#v:DragLeave">DragLeave</a> a</li>
</ul>
</li>
<li class="src short">
<span class="keyword">data</span> <a href="#t:Kernel">Kernel</a> a</li>
<li class="src short">
<a href="#v:mkSimKernel">mkSimKernel</a> :: <a href="Constants.html#t:Difficulty" title="Constants">Difficulty</a> -&gt; <a href="Shared.html#t:Model" title="Shared">Model</a> -&gt; <a href="Turn.html#t:T" title="Turn">T</a> -&gt; <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a> -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> ()</li>
<li class="src short">
<span class="keyword">data</span> <a href="#t:Move">Move</a><ul class="subs">
<li>= <a href="#v:DnD">DnD</a> (<a href="Move.html#t:DnDAction" title="Move">DnDAction</a> <a href="Game.html#t:Target" title="Game">Target</a>)</li>
<li>| <a href="#v:InHandMouseEnter">InHandMouseEnter</a> <a href="Board.html#t:HandIndex" title="Board">HandIndex</a>
</li>
<li>| <a href="#v:InHandMouseLeave">InHandMouseLeave</a> <a href="Board.html#t:HandIndex" title="Board">HandIndex</a>
</li>
<li>| <a href="#v:InPlaceMouseEnter">InPlaceMouseEnter</a> <a href="Game.html#t:Target" title="Game">Target</a>
</li>
<li>| <a href="#v:InPlaceMouseLeave">InPlaceMouseLeave</a> <a href="Game.html#t:Target" title="Game">Target</a>
</li>
<li>| <a href="#v:ExecuteCmd">ExecuteCmd</a>
</li>
<li>| <a href="#v:Sched">Sched</a> <a href="Move.html#t:Sched" title="Move">Sched</a>
</li>
<li>| <a href="#v:UpdateCmd">UpdateCmd</a> <a href="file:///nix/store/shzy82c6879hg0qd3pdg9vb122jzwygz-miso-1.7.1.0-doc/share/doc/miso-1.7.1.0/html/Miso-String.html#t:MisoString" title="Miso.String">MisoString</a>
</li>
</ul>
</li>
<li class="src short">
<a href="#v:nextify">nextify</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="Move.html#t:NextSched" title="Move">NextSched</a>
</li>
<li class="src short">
<span class="keyword">type</span> <a href="#t:NextSched">NextSched</a> = <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Nat.html#t:Nat" title="Nat">Nat</a>, <a href="Move.html#t:Sched" title="Move">Sched</a>)</li>
<li class="src short">
<a href="#v:simRunAllMaybe">simRunAllMaybe</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> m =&gt; a ~ <a href="Move.html#t:Kernel" title="Move">Kernel</a> () =&gt; <a href="Move.html#t:NextSched" title="Move">NextSched</a> -&gt; a -&gt; m a</li>
<li class="src short">
<a href="#v:prodRunOneModel">prodRunOneModel</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> m =&gt; a ~ <a href="Model.html#t:Game" title="Model">Game</a> =&gt; <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; a -&gt; m (a, <a href="Move.html#t:NextSched" title="Move">NextSched</a>)</li>
<li class="src short">
<span class="keyword">data</span> <a href="#t:Sched">Sched</a><ul class="subs">
<li>= <a href="#v:Play">Play</a> <a href="Game.html#t:Event" title="Game">Event</a>
</li>
<li>| <a href="#v:DrawCards">DrawCards</a> <a href="Game.html#t:DrawSource" title="Game">DrawSource</a>
</li>
<li>| <a href="#v:IncrTurn">IncrTurn</a>
</li>
<li>| <a href="#v:EndTurnPressed">EndTurnPressed</a>
</li>
<li>| <a href="#v:Sequence">Sequence</a> (<a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Move.html#t:Sched" title="Move">Sched</a>)</li>
</ul>
</li>
<li class="src short">
<a href="#v:startTurn">startTurn</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> m =&gt; a ~ <a href="Move.html#t:Kernel" title="Move">Kernel</a> b =&gt; <a href="Move.html#t:Actor" title="Move">Actor</a> -&gt; <a href="Spots.html#t:Player" title="Spots">Player</a> -&gt; a -&gt; m (a, <a href="Move.html#t:NextSched" title="Move">NextSched</a>)</li>
<li class="src short">
<a href="#v:mkPreEndTurnEvents">mkPreEndTurnEvents</a> :: <a href="Shared.html#t:Model" title="Shared">Model</a> -&gt; <a href="Turn.html#t:T" title="Turn">T</a> -&gt; <a href="Spots.html#t:Player" title="Spots">Player</a> -&gt; <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a> -&gt; [<a href="Game.html#t:Event" title="Game">Event</a>]</li>
</ul></details></div>
<div id="interface">
<h1>Documentation</h1>
<div class="top">
<p class="src"><span class="keyword">data</span> <a id="t:Actor" class="def">Actor</a> <a href="#t:Actor" class="selflink">#</a></p>
<div class="subs constructors">
<p class="caption">Constructors</p>
<table>
<tr>
<td class="src"><a id="v:AI" class="def">AI</a></td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr>
<td class="src"><a id="v:Player" class="def">Player</a></td>
<td class="doc empty">&nbsp;</td>
</tr>
</table>
</div>
</div>
<div class="top">
<p class="src"><span class="keyword">data</span> <a id="t:DnDAction" class="def">DnDAction</a> a <a href="#t:DnDAction" class="selflink">#</a></p>
<div class="doc"><p>Drag and drop actions</p></div>
<div class="subs constructors">
<p class="caption">Constructors</p>
<table>
<tr>
<td class="src"><a id="v:DragEnd" class="def">DragEnd</a></td>
<td class="doc"><p>Dragging card in hand ends. When a successful drop is done,
 this event is fired right after <code><a href="Move.html#v:Drop" title="Move">Drop</a></code>. We rely on that. If Drop
 was fired last, we would miss it. Be careful on untested browsers.</p></td>
</tr>
<tr>
<td class="src">
<a id="v:DragStart" class="def">DragStart</a> <a href="Board.html#t:HandIndex" title="Board">HandIndex</a>
</td>
<td class="doc"><p>Dragging card in hand</p></td>
</tr>
<tr>
<td class="src"><a id="v:Drop" class="def">Drop</a></td>
<td class="doc"><p>In <code>GameView</code>, this can play the <code>GamePlayEvent</code> <code>Place</code></p></td>
</tr>
<tr>
<td class="src">
<a id="v:DragEnter" class="def">DragEnter</a> a</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr>
<td class="src">
<a id="v:DragLeave" class="def">DragLeave</a> a</td>
<td class="doc empty">&nbsp;</td>
</tr>
</table>
</div>
<div class="subs instances"><details id="i:DnDAction" open="open"><summary>Instances</summary><table>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DnDAction:Eq:1"></span> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a)</span> <a href="#t:DnDAction" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:DnDAction:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a -&gt; <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a -&gt; <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DnDAction:Show:2"></span> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a)</span> <a href="#t:DnDAction" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:DnDAction:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p>
<p class="src"><a href="#v:show">show</a> :: <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="Move.html#t:DnDAction" title="Move">DnDAction</a> a] -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p>
</div></details></td></tr>
</table></details></div>
</div>
<div class="top">
<p class="src"><span class="keyword">data</span> <a id="t:Kernel" class="def">Kernel</a> a <a href="#t:Kernel" class="selflink">#</a></p>
<div class="doc"><p>The subset of <code><a href="Model.html#t:Game" title="Model">Game</a></code> required by <code>run*</code> functions /! If a field
 is added, extend the two <code>Contains Model.Game (Kernel _)</code>instances. When running
 in production, <code>a</code> is <code><a href="Spots.html#t:Player" title="Spots">Player</a></code>. When in tests, <code>()</code> should be used,
 as there is no playing player.</p></div>
<div class="subs instances"><details id="i:Kernel" open="open"><summary>Instances</summary><table>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:With:1"></span> <a href="Contains.html#t:With" title="Contains">With</a> <a href="Model.html#t:Game" title="Model">Game</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> ())</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:With:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:with">with</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> () -&gt; <a href="Model.html#t:Game" title="Model">Game</a> <a href="#v:with" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:With:2"></span> <a href="Contains.html#t:With" title="Contains">With</a> <a href="Model.html#t:Game" title="Model">Game</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> <a href="Spots.html#t:Player" title="Spots">Player</a>)</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:With:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:with">with</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> <a href="Spots.html#t:Player" title="Spots">Player</a> -&gt; <a href="Model.html#t:Game" title="Model">Game</a> <a href="#v:with" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:Contains:3"></span> <a href="Contains.html#t:Contains" title="Contains">Contains</a> <a href="Model.html#t:Game" title="Model">Game</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> ())</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:Contains:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:to">to</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> () <a href="#v:to" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:Contains:4"></span> <a href="Contains.html#t:Contains" title="Contains">Contains</a> <a href="Model.html#t:Game" title="Model">Game</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> <a href="Spots.html#t:Player" title="Spots">Player</a>)</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:Contains:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:to">to</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> <a href="Spots.html#t:Player" title="Spots">Player</a> <a href="#v:to" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:With:5"></span> <a href="Contains.html#t:With" title="Contains">With</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> a) (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>)</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:With:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:with">with</a> :: <a href="Move.html#t:Kernel" title="Move">Kernel</a> a -&gt; (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>) -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> a <a href="#v:with" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:Contains:6"></span> <a href="Contains.html#t:Contains" title="Contains">Contains</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> a) (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>)</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:Contains:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:to">to</a> :: <a href="Move.html#t:Kernel" title="Move">Kernel</a> a -&gt; (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>) <a href="#v:to" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:With:7"></span> <a href="Contains.html#t:With" title="Contains">With</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> a) (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>, <a href="Game.html#t:Animation" title="Game">Animation</a>)</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:With:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:with">with</a> :: <a href="Move.html#t:Kernel" title="Move">Kernel</a> a -&gt; (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>, <a href="Game.html#t:Animation" title="Game">Animation</a>) -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> a <a href="#v:with" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Kernel:Contains:8"></span> <a href="Contains.html#t:Contains" title="Contains">Contains</a> (<a href="Move.html#t:Kernel" title="Move">Kernel</a> a) (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>, <a href="Game.html#t:Animation" title="Game">Animation</a>)</span> <a href="#t:Kernel" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Kernel:Contains:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:to">to</a> :: <a href="Move.html#t:Kernel" title="Move">Kernel</a> a -&gt; (<a href="Shared.html#t:Model" title="Shared">Model</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a>, <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:UI" title="Card">UI</a>, <a href="Game.html#t:Animation" title="Game">Animation</a>) <a href="#v:to" class="selflink">#</a></p>
</div></details></td></tr>
</table></details></div>
</div>
<div class="top">
<p class="src"><a id="v:mkSimKernel" class="def">mkSimKernel</a> :: <a href="Constants.html#t:Difficulty" title="Constants">Difficulty</a> -&gt; <a href="Shared.html#t:Model" title="Shared">Model</a> -&gt; <a href="Turn.html#t:T" title="Turn">T</a> -&gt; <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a> -&gt; <a href="Move.html#t:Kernel" title="Move">Kernel</a> () <a href="#v:mkSimKernel" class="selflink">#</a></p>
<div class="doc"><p>Creates a minimal kernel, suited for simulation</p></div>
</div>
<div class="top">
<p class="src"><span class="keyword">data</span> <a id="t:Move" class="def">Move</a> <a href="#t:Move" class="selflink">#</a></p>
<div class="doc"><p>Actions that are raised by <code>GameView</code></p></div>
<div class="subs constructors">
<p class="caption">Constructors</p>
<table>
<tr>
<td class="src">
<a id="v:DnD" class="def">DnD</a> (<a href="Move.html#t:DnDAction" title="Move">DnDAction</a> <a href="Game.html#t:Target" title="Game">Target</a>)</td>
<td class="doc"><p>A drag an drop event</p></td>
</tr>
<tr>
<td class="src">
<a id="v:InHandMouseEnter" class="def">InHandMouseEnter</a> <a href="Board.html#t:HandIndex" title="Board">HandIndex</a>
</td>
<td class="doc"><p>Starting hovering card in hand</p></td>
</tr>
<tr>
<td class="src">
<a id="v:InHandMouseLeave" class="def">InHandMouseLeave</a> <a href="Board.html#t:HandIndex" title="Board">HandIndex</a>
</td>
<td class="doc"><p>Ending hovering card in hand</p></td>
</tr>
<tr>
<td class="src">
<a id="v:InPlaceMouseEnter" class="def">InPlaceMouseEnter</a> <a href="Game.html#t:Target" title="Game">Target</a>
</td>
<td class="doc"><p>Starting hovering a target</p></td>
</tr>
<tr>
<td class="src">
<a id="v:InPlaceMouseLeave" class="def">InPlaceMouseLeave</a> <a href="Game.html#t:Target" title="Game">Target</a>
</td>
<td class="doc"><p>Ending hovering a target</p></td>
</tr>
<tr>
<td class="src"><a id="v:ExecuteCmd" class="def">ExecuteCmd</a></td>
<td class="doc"><p>Execute a command (dev mode only)</p></td>
</tr>
<tr>
<td class="src">
<a id="v:Sched" class="def">Sched</a> <a href="Move.html#t:Sched" title="Move">Sched</a>
</td>
<td class="doc"><p>A schedulable event</p></td>
</tr>
<tr>
<td class="src">
<a id="v:UpdateCmd" class="def">UpdateCmd</a> <a href="file:///nix/store/shzy82c6879hg0qd3pdg9vb122jzwygz-miso-1.7.1.0-doc/share/doc/miso-1.7.1.0/html/Miso-String.html#t:MisoString" title="Miso.String">MisoString</a>
</td>
<td class="doc"><p>Update the command to execute soon (dev mode only)</p></td>
</tr>
</table>
</div>
<div class="subs instances"><details id="i:Move" open="open"><summary>Instances</summary><table>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Move:Eq:1"></span> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Move.html#t:Move" title="Move">Move</a></span> <a href="#t:Move" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Move:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Move.html#t:Move" title="Move">Move</a> -&gt; <a href="Move.html#t:Move" title="Move">Move</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Move.html#t:Move" title="Move">Move</a> -&gt; <a href="Move.html#t:Move" title="Move">Move</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Move:Show:2"></span> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Move.html#t:Move" title="Move">Move</a></span> <a href="#t:Move" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Move:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Move.html#t:Move" title="Move">Move</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p>
<p class="src"><a href="#v:show">show</a> :: <a href="Move.html#t:Move" title="Move">Move</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="Move.html#t:Move" title="Move">Move</a>] -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p>
</div></details></td></tr>
</table></details></div>
</div>
<div class="top">
<p class="src"><a id="v:nextify" class="def">nextify</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="Move.html#t:NextSched" title="Move">NextSched</a> <a href="#v:nextify" class="selflink">#</a></p>
<div class="doc"><p>Transform a <code>Maybe Sched</code> into a <code><a href="Move.html#t:NextSched" title="Move">NextSched</a></code></p></div>
</div>
<div class="top">
<p class="src"><span class="keyword">type</span> <a id="t:NextSched" class="def">NextSched</a> = <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Nat.html#t:Nat" title="Nat">Nat</a>, <a href="Move.html#t:Sched" title="Move">Sched</a>) <a href="#t:NextSched" class="selflink">#</a></p>
<div class="doc"><p>Event to fire after the given delay (in seconds). Delay should not be '0'.</p></div>
</div>
<div class="top">
<p class="src"><a id="v:simRunAllMaybe" class="def">simRunAllMaybe</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> m =&gt; a ~ <a href="Move.html#t:Kernel" title="Move">Kernel</a> () =&gt; <a href="Move.html#t:NextSched" title="Move">NextSched</a> -&gt; a -&gt; m a <a href="#v:simRunAllMaybe" class="selflink">#</a></p>
<div class="doc">
<p><code>simRunAllMaybe m s</code> executes <code>s</code> (if it is <code>Just _</code>) and then continues executing the generated
 <code><a href="Move.html#t:NextSched" title="Move">NextSched</a></code>, if any. Returns immediately when <code>s</code> is <code><a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code>, if <code>s</code> is <code>Just _</code> execute it,
 as well as the generated <code>Sched</code> values, until it runs out of <code>Sched</code> values.</p>
<p>Only suited for simulation/testing because it doesn't keep track of the playing player
 and doesn't trigger the AI automatically. It is up to the caller to do it.</p>
</div>
</div>
<div class="top">
<p class="src"><a id="v:prodRunOneModel" class="def">prodRunOneModel</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> m =&gt; a ~ <a href="Model.html#t:Game" title="Model">Game</a> =&gt; <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; a -&gt; m (a, <a href="Move.html#t:NextSched" title="Move">NextSched</a>) <a href="#v:prodRunOneModel" class="selflink">#</a></p>
<div class="doc"><p>Run one event, suited for production, because it keeps track of the playing
 player under the hood; thanks to the <code>Kernel Spots.Player</code> instance.</p></div>
</div>
<div class="top">
<p class="src"><span class="keyword">data</span> <a id="t:Sched" class="def">Sched</a> <a href="#t:Sched" class="selflink">#</a></p>
<div class="doc"><p>Actions that can be scheduled by the main loop.</p></div>
<div class="subs constructors">
<p class="caption">Constructors</p>
<table>
<tr>
<td class="src">
<a id="v:Play" class="def">Play</a> <a href="Game.html#t:Event" title="Game">Event</a>
</td>
<td class="doc"><p>Play some game event. It can be an event scheduled by the AI
 or an event from the player.</p></td>
</tr>
<tr>
<td class="src">
<a id="v:DrawCards" class="def">DrawCards</a> <a href="Game.html#t:DrawSource" title="Game">DrawSource</a>
</td>
<td class="doc"><p>Turn was updated previously by <code><a href="Move.html#v:IncrTurn" title="Move">IncrTurn</a></code>,
 time to draw cards from the stack. Then the handler of this event
 will take care of giving the player control back. This event
 is translated to a list of events, iteratively consuming the list.</p></td>
</tr>
<tr>
<td class="src"><a id="v:IncrTurn" class="def">IncrTurn</a></td>
<td class="doc"><p>All actions have been resolved, time to update the turn widget
 and to schedule <code>DrawCard</code>. This does NOT translate
 to a <code>PlayEvent</code>.</p></td>
</tr>
<tr>
<td class="src"><a id="v:EndTurnPressed" class="def">EndTurnPressed</a></td>
<td class="doc"><p>End Turn button pressed in turn widget. For player, schedule
 attacks then <code><a href="Move.html#v:IncrTurn" title="Move">IncrTurn</a></code>; for AI, compute its actions,
 schedule them, and then schedule attack and <code><a href="Move.html#v:IncrTurn" title="Move">IncrTurn</a></code>.</p></td>
</tr>
<tr>
<td class="src">
<a id="v:Sequence" class="def">Sequence</a> (<a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Move.html#t:Sched" title="Move">Sched</a>)</td>
<td class="doc empty">&nbsp;</td>
</tr>
</table>
</div>
<div class="subs instances"><details id="i:Sched" open="open"><summary>Instances</summary><table>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sched:Eq:1"></span> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Move.html#t:Sched" title="Move">Sched</a></span> <a href="#t:Sched" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Sched:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sched:Show:2"></span> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Move.html#t:Sched" title="Move">Sched</a></span> <a href="#t:Sched" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Sched:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Move.html">Move</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p>
<p class="src"><a href="#v:show">show</a> :: <a href="Move.html#t:Sched" title="Move">Sched</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="Move.html#t:Sched" title="Move">Sched</a>] -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
<span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sched:Interactable:3"></span> <a href="Update.html#t:Interactable" title="Update">Interactable</a> <a href="Model.html#t:Game" title="Model">Game</a> <a href="Game.html#t:Target" title="Game">Target</a> (<a href="Model.html#t:Game" title="Model">Game</a>, <a href="Move.html#t:NextSched" title="Move">NextSched</a>)</span> <a href="#t:Interactable" class="selflink">#</a>
</td>
<td class="doc empty">&nbsp;</td>
</tr>
<tr><td colspan="2"><details id="i:id:Sched:Interactable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Update.html">Update</a></p> <div class="subs methods">
<p class="caption">Methods</p>
<p class="src"><a href="#v:considerAction">considerAction</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Move.html#t:DnDAction" title="Move">DnDAction</a> <a href="Game.html#t:Target" title="Game">Target</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:considerAction" class="selflink">#</a></p>
<p class="src"><a href="#v:drop">drop</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> n =&gt; <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Spots.html#t:Player" title="Spots">Player</a> -&gt; <a href="Board.html#t:HandIndex" title="Board">HandIndex</a> -&gt; <a href="Game.html#t:Target" title="Game">Target</a> -&gt; n (<a href="Model.html#t:Game" title="Model">Game</a>, <a href="Move.html#t:NextSched" title="Move">NextSched</a>) <a href="#v:drop" class="selflink">#</a></p>
<p class="src"><a href="#v:getPlayingPlayer">getPlayingPlayer</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Spots.html#t:Player" title="Spots">Player</a> <a href="#v:getPlayingPlayer" class="selflink">#</a></p>
<p class="src"><a href="#v:stopWrongDrop">stopWrongDrop</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:stopWrongDrop" class="selflink">#</a></p>
<p class="src"><a href="#v:updateDefault">updateDefault</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Model.html#t:Interaction" title="Model">Interaction</a> <a href="Game.html#t:Target" title="Game">Target</a> -&gt; (<a href="Model.html#t:Game" title="Model">Game</a>, <a href="Move.html#t:NextSched" title="Move">NextSched</a>) <a href="#v:updateDefault" class="selflink">#</a></p>
<p class="src"><a href="#v:withInteraction">withInteraction</a> :: <a href="Model.html#t:Game" title="Model">Game</a> -&gt; <a href="Model.html#t:Interaction" title="Model">Interaction</a> <a href="Game.html#t:Target" title="Game">Target</a> -&gt; <a href="Model.html#t:Game" title="Model">Game</a> <a href="#v:withInteraction" class="selflink">#</a></p>
</div></details></td></tr>
</table></details></div>
</div>
<div class="top">
<p class="src"><a id="v:startTurn" class="def">startTurn</a> :: <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="file:///nix/store/xhmlg19v5kpnn0zz08zi6yxvcj0k0wmq-ghc-8.6.5-doc/share/doc/ghc/html/libraries/text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> m =&gt; a ~ <a href="Move.html#t:Kernel" title="Move">Kernel</a> b =&gt; <a href="Move.html#t:Actor" title="Move">Actor</a> -&gt; <a href="Spots.html#t:Player" title="Spots">Player</a> -&gt; a -&gt; m (a, <a href="Move.html#t:NextSched" title="Move">NextSched</a>) <a href="#v:startTurn" class="selflink">#</a></p>
<div class="doc"><p>The layer above <code>startAITurn</code> and <code>startPlayerTurn</code>. It intentionally
 requires the <code><a href="Move.html#t:Actor" title="Move">Actor</a></code> AND <code><a href="Spots.html#t:Player" title="Spots">Player</a></code> so that the AI can be used
 even when there are 1 or 2 players.</p></div>
</div>
<div class="top">
<p class="src"><a id="v:mkPreEndTurnEvents" class="def">mkPreEndTurnEvents</a> :: <a href="Shared.html#t:Model" title="Shared">Model</a> -&gt; <a href="Turn.html#t:T" title="Turn">T</a> -&gt; <a href="Spots.html#t:Player" title="Spots">Player</a> -&gt; <a href="Board.html#t:T" title="Board">T</a> <a href="Card.html#v:Core" title="Card">Core</a> -&gt; [<a href="Game.html#t:Event" title="Game">Event</a>] <a href="#v:mkPreEndTurnEvents" class="selflink">#</a></p>
<div class="doc"><p>Use to avoid exposing <code>EventsKind</code></p></div>
</div>
</div>
</div>
<div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div>
</body>
</html>
